### find

由于find命令有强大的功能，因此它的选项也很多，这里简单学习一下。

- **功能**: 查找路径，搜索文件（并可操作查找结果）。

- **格式**: 
```
find [-H] [-L] [-P] [-Olevel] [-D help|tree|search|stat|rates|opt|exec] [path...] [expression]
find [-H] [-L] [-P] [-D debugopts] [-Olevel] [path...] [expression]
find 路径 -命令参数 [输出形式]
```

- **命令参数**
```
path:    find命令所查找的目录路径。例如用.来表示当前目录，用/来表示系统根目录。 
-print： find命令将匹配的文件输出到标准输出。 
-exec：  find命令对匹配的文件执行该参数所给出的shell命令。 
-ok：    交互式的-exec
```

- **参数选项**
```
-name     按照文件名查找文件。
-perm     按照文件权限来查找文件。
-user     按照文件属主来查找文件。
-group    按照文件所属组来查找文件。
-nouser   查找无有效属主的文件，即该文件的属主在/etc/passwd中不存在。
-nogroup  查找无有效所属组的文件，即该文件所属的组在/etc/groups中不存在。
-type     查找某一类型的文件，诸如：b-块、d-目录、c-字符、p-管道、l-链接、f-普通、s-socket
-prune    忽略某个目录，如果同时使用-depth选项，那么-prune将被find命令忽略。
-depth    在查找文件时，首先查找当前目录中的文件，然后再在其子目录中查找。
-fstype   查找位于某一类型文件系统中的文件，这些文件系统类型通常可以在配置文件/etc/fstab中找到，该配置文件中包含了本系统中有关文件系统的信息。
-mount    在查找文件时不跨越文件系统mount点。
-follow   如果find命令遇到符号链接文件，就跟踪至链接所指向的文件。
-cpio     对匹配的文件使用cpio命令，将这些文件备份到磁带设备中。
-size n[c]查找文件长度为n块的文件，带有c时表示文件长度以字节计算。
-newer file1 ! file2  查找更改时间比文件file1新但比文件file2旧的文件。
# 时间相关命令简介 
# a:access 访问 c:change 状态改变 m:modify 修改 
# min:minute time:day
# n  表示 n 天/分钟 (具体来说应该是 [n,n+1] 天/分钟)
# +n 表示 n 天/分钟 之前
# -n 表示 n 天/分钟 以内
-amin  按照文件最后访问时间查找文件（分钟）
-atime 按照文件最后访问时间查找文件（天=24小时）
-cmin  按照文件最后状态更改时间查找文件（分钟）
-ctime 按照文件最后状态更改时间查找文件（天=24小时）
-mmin  按照文件最后修改时间查找文件（分钟）
-mtime 按照文件最后修改时间查找文件（天=24小时）
```

- **示例**
```
# 时间示例,假设执行命令的当前时间是 2017-04-11 10:30:00
find . -mmin 10    # 查找当前目录下,最后修改时间在 2017-04-11 10:20:00 到 2017-04-11 10:21:00 之间的
find . -mmin -10   # 查找当前目录下,最后修改时间在 2017-04-11 10:20:00 以后的
find . -mmin +10   # 查找当前目录下,最后修改时间在 2017-04-11 10:20:00 之前的
find . -mtime 10   # 查找当前目录下,最后修改时间在 2017-04-01 10:30:00 到 2017-04-02 10:30:00 之间的 
find . -mtime -10  # 查找当前目录下,最后修改时间在 2017-04-01 10:30:00 以后的
find . -mtime +10  # 查找当前目录下,最后修改时间在 2017-04-01 10:30:00 之前的
```

### find -exec
我们需要用`-exec`选项对查找出来的文件进行进一步的操作。

- **命令形式**
```
-exec this_is_your_command {} \;
```

- **注意**
```
1.花括号代表前面find查找出来的文件名。
2.\;代表结尾符，考虑到各个系统中分号意义不同，所以前面加反斜杠。
3.建议执行删除命令时，使用-ok安全模式。
4.this_is_your_command 代表所有可执行的命令。
```

- **示例**
```
find . -exec ls -al {} \;      # 找到当前目录下所有文件 并列出
find . -ok rm {} \;            # 安全模式下，使用交互式删除当前目录下所有文件
```

### find -xargs

- **示例**
```
find . | xargs file                # 当前目录下的所有文件都属于哪种文件
find . | xargs echo "" > ./log.log # 结果输出到当前目录下的log.log文件中
find . | xargs grep "wang"         # 当前目录下搜索wang这个词
find . | xargs -p grep "wang"      # -p 表示询问是否执行后面的命令
```